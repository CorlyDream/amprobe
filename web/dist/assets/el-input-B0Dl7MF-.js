import{o as et,ab as ne,a3 as F,T as wt,i as we,Q as re,ac as St,O as Tt,b as tt,ad as Se,ae as oe,a7 as Ct,af as O,ag as It,v as Me,d as Et,L as At,e as de,C as jt,u as Pt,K as _t,h as Be,ah as zt,ai as $t,F as kt,E as L,aa as Ft,_ as Ot,w as Vt}from"./index-Sqz7M1Rx.js";import{c as v,Y as at,r as k,al as te,w as ae,g as Mt,a as pe,d as ot,aq as Bt,s as Nt,q as z,j as Rt,S as Lt,o as m,e as T,C as b,F as fe,n as x,u as n,f as Q,D as $,x as I,v as D,y as J,P as ve,m as Dt,H as Ht,a7 as Kt,B as ee,z as Ut,a0 as Ne}from"./index-AGt0-KHd.js";import{b as Wt,i as Re,f as Gt,h as Yt,V as qt,u as Xt,d as Le}from"./use-form-item-CJWnVeFM.js";const Zt=()=>et&&/firefox/i.test(window.navigator.userAgent);var me=ne(F,"WeakMap"),Qt=9007199254740991;function nt(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=Qt}function Jt(e){return e!=null&&nt(e.length)&&!wt(e)}var ea=Object.prototype;function ta(e){var r=e&&e.constructor,o=typeof r=="function"&&r.prototype||ea;return e===o}function aa(e,r){for(var o=-1,a=Array(e);++o<e;)a[o]=r(o);return a}var oa="[object Arguments]";function De(e){return we(e)&&re(e)==oa}var rt=Object.prototype,na=rt.hasOwnProperty,ra=rt.propertyIsEnumerable,sa=De(function(){return arguments}())?De:function(e){return we(e)&&na.call(e,"callee")&&!ra.call(e,"callee")};const ia=sa;function la(){return!1}var st=typeof exports=="object"&&exports&&!exports.nodeType&&exports,He=st&&typeof module=="object"&&module&&!module.nodeType&&module,ua=He&&He.exports===st,Ke=ua?F.Buffer:void 0,ca=Ke?Ke.isBuffer:void 0,da=ca||la,pa="[object Arguments]",fa="[object Array]",va="[object Boolean]",ga="[object Date]",ma="[object Error]",ya="[object Function]",ba="[object Map]",ha="[object Number]",xa="[object Object]",wa="[object RegExp]",Sa="[object Set]",Ta="[object String]",Ca="[object WeakMap]",Ia="[object ArrayBuffer]",Ea="[object DataView]",Aa="[object Float32Array]",ja="[object Float64Array]",Pa="[object Int8Array]",_a="[object Int16Array]",za="[object Int32Array]",$a="[object Uint8Array]",ka="[object Uint8ClampedArray]",Fa="[object Uint16Array]",Oa="[object Uint32Array]",p={};p[Aa]=p[ja]=p[Pa]=p[_a]=p[za]=p[$a]=p[ka]=p[Fa]=p[Oa]=!0;p[pa]=p[fa]=p[Ia]=p[va]=p[Ea]=p[ga]=p[ma]=p[ya]=p[ba]=p[ha]=p[xa]=p[wa]=p[Sa]=p[Ta]=p[Ca]=!1;function Va(e){return we(e)&&nt(e.length)&&!!p[re(e)]}function Ma(e){return function(r){return e(r)}}var it=typeof exports=="object"&&exports&&!exports.nodeType&&exports,H=it&&typeof module=="object"&&module&&!module.nodeType&&module,Ba=H&&H.exports===it,ge=Ba&&St.process,Ue=function(){try{var e=H&&H.require&&H.require("util").types;return e||ge&&ge.binding&&ge.binding("util")}catch{}}(),We=Ue&&Ue.isTypedArray,Na=We?Ma(We):Va,Ra=Object.prototype,La=Ra.hasOwnProperty;function Da(e,r){var o=tt(e),a=!o&&ia(e),s=!o&&!a&&da(e),l=!o&&!a&&!s&&Na(e),u=o||a||s||l,y=u?aa(e.length,String):[],f=y.length;for(var g in e)(r||La.call(e,g))&&!(u&&(g=="length"||s&&(g=="offset"||g=="parent")||l&&(g=="buffer"||g=="byteLength"||g=="byteOffset")||Tt(g,f)))&&y.push(g);return y}function Ha(e,r){return function(o){return e(r(o))}}var Ka=Ha(Object.keys,Object),Ua=Object.prototype,Wa=Ua.hasOwnProperty;function Ga(e){if(!ta(e))return Ka(e);var r=[];for(var o in Object(e))Wa.call(e,o)&&o!="constructor"&&r.push(o);return r}function Ya(e){return Jt(e)?Da(e):Ga(e)}function qa(e,r){for(var o=-1,a=r.length,s=e.length;++o<a;)e[s+o]=r[o];return e}function Xa(){this.__data__=new Se,this.size=0}function Za(e){var r=this.__data__,o=r.delete(e);return this.size=r.size,o}function Qa(e){return this.__data__.get(e)}function Ja(e){return this.__data__.has(e)}var eo=200;function to(e,r){var o=this.__data__;if(o instanceof Se){var a=o.__data__;if(!oe||a.length<eo-1)return a.push([e,r]),this.size=++o.size,this;o=this.__data__=new Ct(a)}return o.set(e,r),this.size=o.size,this}function K(e){var r=this.__data__=new Se(e);this.size=r.size}K.prototype.clear=Xa;K.prototype.delete=Za;K.prototype.get=Qa;K.prototype.has=Ja;K.prototype.set=to;function ao(e,r){for(var o=-1,a=e==null?0:e.length,s=0,l=[];++o<a;){var u=e[o];r(u,o,e)&&(l[s++]=u)}return l}function oo(){return[]}var no=Object.prototype,ro=no.propertyIsEnumerable,Ge=Object.getOwnPropertySymbols,so=Ge?function(e){return e==null?[]:(e=Object(e),ao(Ge(e),function(r){return ro.call(e,r)}))}:oo;function io(e,r,o){var a=r(e);return tt(e)?a:qa(a,o(e))}function Vo(e){return io(e,Ya,so)}var ye=ne(F,"DataView"),be=ne(F,"Promise"),he=ne(F,"Set"),Ye="[object Map]",lo="[object Object]",qe="[object Promise]",Xe="[object Set]",Ze="[object WeakMap]",Qe="[object DataView]",uo=O(ye),co=O(oe),po=O(be),fo=O(he),vo=O(me),A=re;(ye&&A(new ye(new ArrayBuffer(1)))!=Qe||oe&&A(new oe)!=Ye||be&&A(be.resolve())!=qe||he&&A(new he)!=Xe||me&&A(new me)!=Ze)&&(A=function(e){var r=re(e),o=r==lo?e.constructor:void 0,a=o?O(o):"";if(a)switch(a){case uo:return Qe;case co:return Ye;case po:return qe;case fo:return Xe;case vo:return Ze}return r});const Mo=A;var Bo=F.Uint8Array;const xe="update:modelValue",No="change",go=e=>/([\uAC00-\uD7AF\u3130-\u318F])+/gi.test(e),mo=["class","style"],yo=/^on[A-Z]/,bo=(e={})=>{const{excludeListeners:r=!1,excludeKeys:o}=e,a=v(()=>((o==null?void 0:o.value)||[]).concat(mo)),s=at();return s?v(()=>{var l;return It(Object.entries((l=s.proxy)==null?void 0:l.$attrs).filter(([u])=>!a.value.includes(u)&&!(r&&yo.test(u))))}):v(()=>({}))};function ho(e){const r=k();function o(){if(e.value==null)return;const{selectionStart:s,selectionEnd:l,value:u}=e.value;if(s==null||l==null)return;const y=u.slice(0,Math.max(0,s)),f=u.slice(Math.max(0,l));r.value={selectionStart:s,selectionEnd:l,value:u,beforeTxt:y,afterTxt:f}}function a(){if(e.value==null||r.value==null)return;const{value:s}=e.value,{beforeTxt:l,afterTxt:u,selectionStart:y}=r.value;if(l==null||u==null||y==null)return;let f=s.length;if(s.endsWith(u))f=s.length-u.length;else if(s.startsWith(l))f=l.length;else{const g=l[y-1],S=s.indexOf(g,y-1);S!==-1&&(f=S+1)}e.value.setSelectionRange(f,f)}return[o,a]}function xo(e,{afterFocus:r,beforeBlur:o,afterBlur:a}={}){const s=at(),{emit:l}=s,u=te(),y=k(!1),f=d=>{y.value||(y.value=!0,l("focus",d),r==null||r())},g=d=>{var V;Mt(o)&&o(d)||d.relatedTarget&&((V=u.value)!=null&&V.contains(d.relatedTarget))||(y.value=!1,l("blur",d),a==null||a())},S=()=>{var d;(d=e.value)==null||d.focus()};return ae(u,d=>{d&&d.setAttribute("tabindex","-1")}),Wt(u,"click",S),{wrapperRef:u,isFocused:y,handleFocus:f,handleBlur:g}}let w;const wo=`
  height:0 !important;
  visibility:hidden !important;
  ${Zt()?"":"overflow:hidden !important;"}
  position:absolute !important;
  z-index:-1000 !important;
  top:0 !important;
  right:0 !important;
`,So=["letter-spacing","line-height","padding-top","padding-bottom","font-family","font-weight","font-size","text-rendering","text-transform","width","text-indent","padding-left","padding-right","border-width","box-sizing"];function To(e){const r=window.getComputedStyle(e),o=r.getPropertyValue("box-sizing"),a=Number.parseFloat(r.getPropertyValue("padding-bottom"))+Number.parseFloat(r.getPropertyValue("padding-top")),s=Number.parseFloat(r.getPropertyValue("border-bottom-width"))+Number.parseFloat(r.getPropertyValue("border-top-width"));return{contextStyle:So.map(u=>`${u}:${r.getPropertyValue(u)}`).join(";"),paddingSize:a,borderSize:s,boxSizing:o}}function Je(e,r=1,o){var a;w||(w=document.createElement("textarea"),document.body.appendChild(w));const{paddingSize:s,borderSize:l,boxSizing:u,contextStyle:y}=To(e);w.setAttribute("style",`${y};${wo}`),w.value=e.value||e.placeholder||"";let f=w.scrollHeight;const g={};u==="border-box"?f=f+l:u==="content-box"&&(f=f-s),w.value="";const S=w.scrollHeight-s;if(Me(r)){let d=S*r;u==="border-box"&&(d=d+s+l),f=Math.max(d,f),g.minHeight=`${d}px`}if(Me(o)){let d=S*o;u==="border-box"&&(d=d+s+l),f=Math.min(d,f)}return g.height=`${f}px`,(a=w.parentNode)==null||a.removeChild(w),w=void 0,g}const Co=Et({id:{type:String,default:void 0},size:At,disabled:Boolean,modelValue:{type:de([String,Number,Object]),default:""},maxlength:{type:[String,Number]},minlength:{type:[String,Number]},type:{type:String,default:"text"},resize:{type:String,values:["none","both","horizontal","vertical"]},autosize:{type:de([Boolean,Object]),default:!1},autocomplete:{type:String,default:"off"},formatter:{type:Function},parser:{type:Function},placeholder:{type:String},form:{type:String},readonly:{type:Boolean,default:!1},clearable:{type:Boolean,default:!1},showPassword:{type:Boolean,default:!1},showWordLimit:{type:Boolean,default:!1},suffixIcon:{type:Re},prefixIcon:{type:Re},containerRole:{type:String,default:void 0},label:{type:String,default:void 0},tabindex:{type:[String,Number],default:0},validateEvent:{type:Boolean,default:!0},inputStyle:{type:de([Object,Array,String]),default:()=>jt({})},autofocus:{type:Boolean,default:!1}}),Io={[xe]:e=>pe(e),input:e=>pe(e),change:e=>pe(e),focus:e=>e instanceof FocusEvent,blur:e=>e instanceof FocusEvent,clear:()=>!0,mouseleave:e=>e instanceof MouseEvent,mouseenter:e=>e instanceof MouseEvent,keydown:e=>e instanceof Event,compositionstart:e=>e instanceof CompositionEvent,compositionupdate:e=>e instanceof CompositionEvent,compositionend:e=>e instanceof CompositionEvent},Eo=["role"],Ao=["id","minlength","maxlength","type","disabled","readonly","autocomplete","tabindex","aria-label","placeholder","form","autofocus"],jo=["id","minlength","maxlength","tabindex","disabled","readonly","autocomplete","aria-label","placeholder","form","autofocus"],Po=ot({name:"ElInput",inheritAttrs:!1}),_o=ot({...Po,props:Co,emits:Io,setup(e,{expose:r,emit:o}){const a=e,s=Bt(),l=Nt(),u=v(()=>{const t={};return a.containerRole==="combobox"&&(t["aria-haspopup"]=s["aria-haspopup"],t["aria-owns"]=s["aria-owns"],t["aria-expanded"]=s["aria-expanded"]),t}),y=v(()=>[a.type==="textarea"?Ce.b():c.b(),c.m(Te.value),c.is("disabled",j.value),c.is("exceed",dt.value),{[c.b("group")]:l.prepend||l.append,[c.bm("group","append")]:l.append,[c.bm("group","prepend")]:l.prepend,[c.m("prefix")]:l.prefix||a.prefixIcon,[c.m("suffix")]:l.suffix||a.suffixIcon||a.clearable||a.showPassword,[c.bm("suffix","password-clear")]:X.value&&le.value,[c.b("hidden")]:a.type==="hidden"},s.class]),f=v(()=>[c.e("wrapper"),c.is("focus",ie.value)]),g=bo({excludeKeys:v(()=>Object.keys(u.value))}),{form:S,formItem:d}=Gt(),{inputId:V}=Yt(a,{formItemContext:d}),Te=Pt(),j=_t(),c=Be("input"),Ce=Be("textarea"),U=te(),C=te(),se=k(!1),M=k(!1),W=k(!1),Ie=k(),G=te(a.inputStyle),P=v(()=>U.value||C.value),{wrapperRef:lt,isFocused:ie,handleFocus:Y,handleBlur:q}=xo(P,{afterBlur(){var t;a.validateEvent&&((t=d==null?void 0:d.validate)==null||t.call(d,"blur").catch(i=>Le()))}}),Ee=v(()=>{var t;return(t=S==null?void 0:S.statusIcon)!=null?t:!1}),B=v(()=>(d==null?void 0:d.validateState)||""),Ae=v(()=>B.value&&qt[B.value]),ut=v(()=>W.value?zt:$t),ct=v(()=>[s.style]),je=v(()=>[a.inputStyle,G.value,{resize:a.resize}]),E=v(()=>kt(a.modelValue)?"":String(a.modelValue)),X=v(()=>a.clearable&&!j.value&&!a.readonly&&!!E.value&&(ie.value||se.value)),le=v(()=>a.showPassword&&!j.value&&!a.readonly&&!!E.value&&(!!E.value||ie.value)),_=v(()=>a.showWordLimit&&!!a.maxlength&&(a.type==="text"||a.type==="textarea")&&!j.value&&!a.readonly&&!a.showPassword),ue=v(()=>E.value.length),dt=v(()=>!!_.value&&ue.value>Number(a.maxlength)),pt=v(()=>!!l.suffix||!!a.suffixIcon||X.value||a.showPassword||_.value||!!B.value&&Ee.value),[ft,vt]=ho(U);Xt(C,t=>{if(gt(),!_.value||a.resize!=="both")return;const i=t[0],{width:h}=i.contentRect;Ie.value={right:`calc(100% - ${h+15+6}px)`}});const N=()=>{const{type:t,autosize:i}=a;if(!(!et||t!=="textarea"||!C.value))if(i){const h=Ne(i)?i.minRows:void 0,Z=Ne(i)?i.maxRows:void 0,Ve=Je(C.value,h,Z);G.value={overflowY:"hidden",...Ve},z(()=>{C.value.offsetHeight,G.value=Ve})}else G.value={minHeight:Je(C.value).minHeight}},gt=(t=>{let i=!1;return()=>{var h;if(i||!a.autosize)return;((h=C.value)==null?void 0:h.offsetParent)===null||(t(),i=!0)}})(N),R=()=>{const t=P.value,i=a.formatter?a.formatter(E.value):E.value;!t||t.value===i||(t.value=i)},ce=async t=>{ft();let{value:i}=t.target;if(a.formatter&&(i=a.parser?a.parser(i):i),!M.value){if(i===E.value){R();return}o(xe,i),o("input",i),await z(),R(),vt()}},Pe=t=>{o("change",t.target.value)},_e=t=>{o("compositionstart",t),M.value=!0},ze=t=>{var i;o("compositionupdate",t);const h=(i=t.target)==null?void 0:i.value,Z=h[h.length-1]||"";M.value=!go(Z)},$e=t=>{o("compositionend",t),M.value&&(M.value=!1,ce(t))},mt=()=>{W.value=!W.value,ke()},ke=async()=>{var t;await z(),(t=P.value)==null||t.focus()},yt=()=>{var t;return(t=P.value)==null?void 0:t.blur()},bt=t=>{se.value=!1,o("mouseleave",t)},ht=t=>{se.value=!0,o("mouseenter",t)},Fe=t=>{o("keydown",t)},xt=()=>{var t;(t=P.value)==null||t.select()},Oe=()=>{o(xe,""),o("change",""),o("clear"),o("input","")};return ae(()=>a.modelValue,()=>{var t;z(()=>N()),a.validateEvent&&((t=d==null?void 0:d.validate)==null||t.call(d,"change").catch(i=>Le()))}),ae(E,()=>R()),ae(()=>a.type,async()=>{await z(),R(),N()}),Rt(()=>{!a.formatter&&a.parser,R(),z(N)}),r({input:U,textarea:C,ref:P,textareaStyle:je,autosize:Lt(a,"autosize"),focus:ke,blur:yt,select:xt,clear:Oe,resizeTextarea:N}),(t,i)=>(m(),T("div",ve(n(u),{class:n(y),style:n(ct),role:t.containerRole,onMouseenter:ht,onMouseleave:bt}),[b(" input "),t.type!=="textarea"?(m(),T(fe,{key:0},[b(" prepend slot "),t.$slots.prepend?(m(),T("div",{key:0,class:x(n(c).be("group","prepend"))},[Q(t.$slots,"prepend")],2)):b("v-if",!0),$("div",{ref_key:"wrapperRef",ref:lt,class:x(n(f))},[b(" prefix slot "),t.$slots.prefix||t.prefixIcon?(m(),T("span",{key:0,class:x(n(c).e("prefix"))},[$("span",{class:x(n(c).e("prefix-inner"))},[Q(t.$slots,"prefix"),t.prefixIcon?(m(),I(n(L),{key:0,class:x(n(c).e("icon"))},{default:D(()=>[(m(),I(J(t.prefixIcon)))]),_:1},8,["class"])):b("v-if",!0)],2)],2)):b("v-if",!0),$("input",ve({id:n(V),ref_key:"input",ref:U,class:n(c).e("inner")},n(g),{minlength:t.minlength,maxlength:t.maxlength,type:t.showPassword?W.value?"text":"password":t.type,disabled:n(j),readonly:t.readonly,autocomplete:t.autocomplete,tabindex:t.tabindex,"aria-label":t.label,placeholder:t.placeholder,style:t.inputStyle,form:t.form,autofocus:t.autofocus,onCompositionstart:_e,onCompositionupdate:ze,onCompositionend:$e,onInput:ce,onFocus:i[0]||(i[0]=(...h)=>n(Y)&&n(Y)(...h)),onBlur:i[1]||(i[1]=(...h)=>n(q)&&n(q)(...h)),onChange:Pe,onKeydown:Fe}),null,16,Ao),b(" suffix slot "),n(pt)?(m(),T("span",{key:1,class:x(n(c).e("suffix"))},[$("span",{class:x(n(c).e("suffix-inner"))},[!n(X)||!n(le)||!n(_)?(m(),T(fe,{key:0},[Q(t.$slots,"suffix"),t.suffixIcon?(m(),I(n(L),{key:0,class:x(n(c).e("icon"))},{default:D(()=>[(m(),I(J(t.suffixIcon)))]),_:1},8,["class"])):b("v-if",!0)],64)):b("v-if",!0),n(X)?(m(),I(n(L),{key:1,class:x([n(c).e("icon"),n(c).e("clear")]),onMousedown:Ht(n(Kt),["prevent"]),onClick:Oe},{default:D(()=>[Dt(n(Ft))]),_:1},8,["class","onMousedown"])):b("v-if",!0),n(le)?(m(),I(n(L),{key:2,class:x([n(c).e("icon"),n(c).e("password")]),onClick:mt},{default:D(()=>[(m(),I(J(n(ut))))]),_:1},8,["class"])):b("v-if",!0),n(_)?(m(),T("span",{key:3,class:x(n(c).e("count"))},[$("span",{class:x(n(c).e("count-inner"))},ee(n(ue))+" / "+ee(t.maxlength),3)],2)):b("v-if",!0),n(B)&&n(Ae)&&n(Ee)?(m(),I(n(L),{key:4,class:x([n(c).e("icon"),n(c).e("validateIcon"),n(c).is("loading",n(B)==="validating")])},{default:D(()=>[(m(),I(J(n(Ae))))]),_:1},8,["class"])):b("v-if",!0)],2)],2)):b("v-if",!0)],2),b(" append slot "),t.$slots.append?(m(),T("div",{key:1,class:x(n(c).be("group","append"))},[Q(t.$slots,"append")],2)):b("v-if",!0)],64)):(m(),T(fe,{key:1},[b(" textarea "),$("textarea",ve({id:n(V),ref_key:"textarea",ref:C,class:n(Ce).e("inner")},n(g),{minlength:t.minlength,maxlength:t.maxlength,tabindex:t.tabindex,disabled:n(j),readonly:t.readonly,autocomplete:t.autocomplete,style:n(je),"aria-label":t.label,placeholder:t.placeholder,form:t.form,autofocus:t.autofocus,onCompositionstart:_e,onCompositionupdate:ze,onCompositionend:$e,onInput:ce,onFocus:i[2]||(i[2]=(...h)=>n(Y)&&n(Y)(...h)),onBlur:i[3]||(i[3]=(...h)=>n(q)&&n(q)(...h)),onChange:Pe,onKeydown:Fe}),null,16,jo),n(_)?(m(),T("span",{key:0,style:Ut(Ie.value),class:x(n(c).e("count"))},ee(n(ue))+" / "+ee(t.maxlength),7)):b("v-if",!0)],64))],16,Eo))}});var zo=Ot(_o,[["__file","input.vue"]]);const Ro=Vt(zo);export{No as C,Ro as E,K as S,xe as U,qa as a,io as b,Mo as c,Ma as d,Vo as e,Jt as f,so as g,ia as h,da as i,Na as j,Ya as k,ta as l,Da as m,Ue as n,Ha as o,Bo as p,nt as q,go as r,oo as s,xo as u};
