import{d as V,e as L,h as j,v as H,_ as W,w as R,H as M}from"./index-Sqz7M1Rx.js";import{E as U,a as F}from"./el-card-BdhiOS4I.js";import{q as J,a as K,b as Q,E as X,c as Y,_ as Z}from"./index-C5WRrcT5.js";import{q as ee,a as te,b as ae}from"./index-Bp9OrC17.js";import{d as D,c as se,g as oe,o as w,e as S,n as h,u as n,f as N,A as l,B as i,C as q,D as r,z as ne,j as le,r as I,b as B,m as t,v as o,N as ie,O as re,_ as ue}from"./index-AGt0-KHd.js";const ce=V({decimalSeparator:{type:String,default:"."},groupSeparator:{type:String,default:","},precision:{type:Number,default:0},formatter:Function,value:{type:L([Number,Object]),default:0},prefix:String,suffix:String,title:String,valueStyle:{type:L([String,Object,Array])}}),pe=D({name:"ElStatistic"}),de=D({...pe,props:ce,setup(_,{expose:C}){const b=_,d=j("statistic"),k=se(()=>{const{value:a,formatter:y,precision:u,decimalSeparator:G,groupSeparator:x}=b;if(oe(y))return y(a);if(!H(a))return a;let[f,m=""]=String(a).split(".");return m=m.padEnd(u,"0").slice(0,u>0?u:0),f=f.replace(/\B(?=(\d{3})+(?!\d))/g,x),[f,m].join(m?G:"")});return C({displayValue:k}),(a,y)=>(w(),S("div",{class:h(n(d).b())},[a.$slots.title||a.title?(w(),S("div",{key:0,class:h(n(d).e("head"))},[N(a.$slots,"title",{},()=>[l(i(a.title),1)])],2)):q("v-if",!0),r("div",{class:h(n(d).e("content"))},[a.$slots.prefix||a.prefix?(w(),S("div",{key:0,class:h(n(d).e("prefix"))},[N(a.$slots,"prefix",{},()=>[r("span",null,i(a.prefix),1)])],2)):q("v-if",!0),r("span",{class:h(n(d).e("number")),style:ne(a.valueStyle)},i(n(k)),7),a.$slots.suffix||a.suffix?(w(),S("div",{key:1,class:h(n(d).e("suffix"))},[N(a.$slots,"suffix",{},()=>[r("span",null,i(a.suffix),1)])],2)):q("v-if",!0)],2)],2))}});var fe=W(de,[["__file","statistic.vue"]]);const _e=R(fe),me={series:[{type:"gauge",startAngle:90,endAngle:-270,pointer:{show:!1},progress:{show:!0,overlap:!1,roundCap:!0,clip:!1,itemStyle:{borderWidth:1,borderColor:"#464646"}},axisLine:{lineStyle:{width:8}},splitLine:{show:!1,distance:0,length:10},axisTick:{show:!1},axisLabel:{show:!1,distance:50},data:[],title:{fontSize:14},detail:{width:50,height:14,fontSize:14,color:"inherit",borderColor:"inherit",borderRadius:20,borderWidth:1,formatter:"{value}%"}}]},ve={series:[{type:"gauge",startAngle:90,endAngle:-270,pointer:{show:!1},progress:{show:!0,overlap:!1,roundCap:!0,clip:!1,itemStyle:{borderWidth:1,borderColor:"#464646"}},axisLine:{lineStyle:{width:8}},splitLine:{show:!1,distance:0,length:10},axisTick:{show:!1},axisLabel:{show:!1,distance:50},data:[],title:{fontSize:14},detail:{width:50,height:14,fontSize:14,color:"inherit",borderColor:"inherit",borderRadius:20,borderWidth:1,formatter:"{value}%"}}]},E=_=>(ie("data-v-9cd43588"),_=_(),re(),_),ge={class:"am-overview-container"},he=E(()=>r("h4",null,"概览",-1)),ye=E(()=>r("h4",null,"状态",-1)),we=E(()=>r("h4",null,"主机信息",-1)),Se=E(()=>r("h4",null,"容器信息",-1)),Ce=D({__name:"index",setup(_){le(()=>{y(),G(),m(),T(),d(),k()});const C=I(0),b=I(0),d=async()=>{const{data:s}=await ee({page:1,size:10});C.value=s.total},k=async()=>{const{data:s}=await te({page:1,size:10});b.value=s.total},a=I(),y=async()=>{const{data:s}=await J();a.value={hostname:s.hostname,uptime:s.uptime,os:s.os,platform:s.platform,platform_version:s.platform_version,kernel_version:s.kernel_version,kernel_arch:s.kernel_arch}},u=I(),G=async()=>{const{data:s}=await ae();console.log(s),u.value={docker_version:s.docker_version,api_version:s.api_version,min_api_version:s.min_api_version,git_commit:s.git_commit,go_version:s.go_version,os:s.os,arch:s.arch},console.log(u.value)},x=[{value:20,name:"CPU",title:{offsetCenter:["0%","-15%"]},detail:{valueAnimation:!0,offsetCenter:["0%","15%"]}}],f=B(me),m=async()=>{const{data:s}=await K();x[0].value=Math.round(s.percent*100)/100,M(f,"series[0].data",x),console.log("gauge",f)},$=[{value:20,name:"Memory",title:{offsetCenter:["0%","-15%"]},detail:{valueAnimation:!0,offsetCenter:["0%","15%"]}}],z=B(ve),T=async()=>{const{data:s}=await Q();$[0].value=Math.round(s.percent*100)/100,M(z,"series[0].data",$),console.log("gauge",z)};return(s,be)=>{const O=_e,v=U,g=Y,A=X,P=Z,p=F;return w(),S("div",ge,[t(A,{gutter:8},{default:o(()=>[t(g,{span:16},{default:o(()=>[t(v,{class:"am-overview-overview"},{default:o(()=>[he,t(A,{gutter:4},{default:o(()=>[t(g,{span:12},{default:o(()=>[t(v,null,{default:o(()=>[t(O,{title:"容器数量",value:n(C)},null,8,["value"])]),_:1})]),_:1}),t(g,{span:12},{default:o(()=>[t(v,null,{default:o(()=>[t(O,{title:"镜像数量",value:n(b)},null,8,["value"])]),_:1})]),_:1})]),_:1})]),_:1}),t(v,null,{default:o(()=>[ye,t(A,{gutter:4},{default:o(()=>[t(g,{span:12},{default:o(()=>[t(P,{option:n(f),height:"200px"},null,8,["option"])]),_:1}),t(g,{span:12},{default:o(()=>[t(P,{option:n(z),height:"200px"},null,8,["option"])]),_:1})]),_:1})]),_:1})]),_:1}),t(g,{span:8},{default:o(()=>[t(v,{class:"am-overview-host"},{default:o(()=>[we,r("p",null,[l(" 主机名称："),t(p,null,{default:o(()=>{var e;return[l(i((e=n(a))==null?void 0:e.hostname),1)]}),_:1})]),r("p",null,[l(" 启动时间："),t(p,null,{default:o(()=>{var e;return[l(i((e=n(a))==null?void 0:e.uptime),1)]}),_:1})]),r("p",null,[l(" 发行版本："),t(p,null,{default:o(()=>{var e,c;return[l(i((e=n(a))==null?void 0:e.platform)+"-"+i((c=n(a))==null?void 0:c.platform_version),1)]}),_:1})]),r("p",null,[l(" 内核版本："),t(p,null,{default:o(()=>{var e;return[l(i((e=n(a))==null?void 0:e.kernel_version),1)]}),_:1})]),r("p",null,[l(" 系统类型："),t(p,null,{default:o(()=>{var e,c;return[l(i((e=n(a))==null?void 0:e.os)+"/"+i((c=n(a))==null?void 0:c.kernel_arch),1)]}),_:1})])]),_:1}),t(v,null,{default:o(()=>[Se,r("p",null,[l(" Docker 版本："),t(p,null,{default:o(()=>{var e;return[l(i((e=n(u))==null?void 0:e.docker_version),1)]}),_:1})]),r("p",null,[l(" API 版本： "),t(p,null,{default:o(()=>{var e,c;return[l(i((e=n(u))==null?void 0:e.min_api_version)+"-"+i((c=n(u))==null?void 0:c.api_version),1)]}),_:1})]),r("p",null,[l(" Git Commit："),t(p,null,{default:o(()=>{var e;return[l(i((e=n(u))==null?void 0:e.git_commit),1)]}),_:1})]),r("p",null,[l(" Go version： "),t(p,null,{default:o(()=>{var e;return[l(i((e=n(u))==null?void 0:e.go_version),1)]}),_:1})]),r("p",null,[l(" 系统类型： "),t(p,null,{default:o(()=>{var e,c;return[l(i((e=n(u))==null?void 0:e.os)+"/"+i((c=n(u))==null?void 0:c.arch),1)]}),_:1})])]),_:1})]),_:1})]),_:1})])}}}),ze=ue(Ce,[["__scopeId","data-v-9cd43588"]]);export{ze as default};
