import{H as I}from"./index-Sqz7M1Rx.js";import{a as fe,d as he,b as me,e as pe,f as _e,g as ye,h as ge,E as ve,_ as $e,c as be}from"./index-C5WRrcT5.js";import{E as xe}from"./el-card-BdhiOS4I.js";import"./el-input-B0Dl7MF-.js";import{d as we,E as Me}from"./el-select-C0JbJQNv.js";import"./el-popper-CoOIwp_U.js";import{d as Se,r as K,b as se,j as De,ag as ke,w as Oe,e as oe,D as R,m as g,v as b,o as re,u as C,a4 as Ce,F as le,a1 as ce,B as A,N as Te,O as Ie,_ as Ae}from"./index-AGt0-KHd.js";import"./use-form-item-CJWnVeFM.js";var Be=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Le(p){return p&&p.__esModule&&Object.prototype.hasOwnProperty.call(p,"default")?p.default:p}var de={exports:{}};(function(p,m){(function(w,v){p.exports=v()})(Be,function(){var w=1e3,v=6e4,V=36e5,P="millisecond",B="second",O="minute",L="hour",S="day",W="week",M="month",z="quarter",D="year",U="date",F="Invalid Date",N=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,X=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ee={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(s){var a=["th","st","nd","rd"],e=s%100;return"["+s+(a[(e-20)%10]||a[e]||a[0])+"]"}},d=function(s,a,e){var n=String(s);return!n||n.length>=a?s:""+Array(a+1-n.length).join(e)+s},y={s:d,z:function(s){var a=-s.utcOffset(),e=Math.abs(a),n=Math.floor(e/60),t=e%60;return(a<=0?"+":"-")+d(n,2,"0")+":"+d(t,2,"0")},m:function s(a,e){if(a.date()<e.date())return-s(e,a);var n=12*(e.year()-a.year())+(e.month()-a.month()),t=a.clone().add(n,M),o=e-t<0,r=a.clone().add(n+(o?-1:1),M);return+(-(n+(e-t)/(o?t-r:r-t))||0)},a:function(s){return s<0?Math.ceil(s)||0:Math.floor(s)},p:function(s){return{M,y:D,w:W,d:S,D:U,h:L,m:O,s:B,ms:P,Q:z}[s]||String(s||"").toLowerCase().replace(/s$/,"")},u:function(s){return s===void 0}},u="en",l={};l[u]=ee;var Y="$isDayjsObject",j=function(s){return s instanceof J||!(!s||!s[Y])},H=function s(a,e,n){var t;if(!a)return u;if(typeof a=="string"){var o=a.toLowerCase();l[o]&&(t=o),e&&(l[o]=e,t=o);var r=a.split("-");if(!t&&r.length>1)return s(r[0])}else{var c=a.name;l[c]=a,t=c}return!n&&t&&(u=t),t||!n&&u},f=function(s,a){if(j(s))return s.clone();var e=typeof a=="object"?a:{};return e.date=s,e.args=arguments,new J(e)},i=y;i.l=H,i.i=j,i.w=function(s,a){return f(s,{locale:a.$L,utc:a.$u,x:a.$x,$offset:a.$offset})};var J=function(){function s(e){this.$L=H(e.locale,null,!0),this.parse(e),this.$x=this.$x||e.x||{},this[Y]=!0}var a=s.prototype;return a.parse=function(e){this.$d=function(n){var t=n.date,o=n.utc;if(t===null)return new Date(NaN);if(i.u(t))return new Date;if(t instanceof Date)return new Date(t);if(typeof t=="string"&&!/Z$/i.test(t)){var r=t.match(N);if(r){var c=r[2]-1||0,h=(r[7]||"0").substring(0,3);return o?new Date(Date.UTC(r[1],c,r[3]||1,r[4]||0,r[5]||0,r[6]||0,h)):new Date(r[1],c,r[3]||1,r[4]||0,r[5]||0,r[6]||0,h)}}return new Date(t)}(e),this.init()},a.init=function(){var e=this.$d;this.$y=e.getFullYear(),this.$M=e.getMonth(),this.$D=e.getDate(),this.$W=e.getDay(),this.$H=e.getHours(),this.$m=e.getMinutes(),this.$s=e.getSeconds(),this.$ms=e.getMilliseconds()},a.$utils=function(){return i},a.isValid=function(){return this.$d.toString()!==F},a.isSame=function(e,n){var t=f(e);return this.startOf(n)<=t&&t<=this.endOf(n)},a.isAfter=function(e,n){return f(e)<this.startOf(n)},a.isBefore=function(e,n){return this.endOf(n)<f(e)},a.$g=function(e,n,t){return i.u(e)?this[n]:this.set(t,e)},a.unix=function(){return Math.floor(this.valueOf()/1e3)},a.valueOf=function(){return this.$d.getTime()},a.startOf=function(e,n){var t=this,o=!!i.u(n)||n,r=i.p(e),c=function(G,k){var E=i.w(t.$u?Date.UTC(t.$y,k,G):new Date(t.$y,k,G),t);return o?E:E.endOf(S)},h=function(G,k){return i.w(t.toDate()[G].apply(t.toDate("s"),(o?[0,0,0,0]:[23,59,59,999]).slice(k)),t)},_=this.$W,$=this.$M,T=this.$D,Z="set"+(this.$u?"UTC":"");switch(r){case D:return o?c(1,0):c(31,11);case M:return o?c(1,$):c(0,$+1);case W:var q=this.$locale().weekStart||0,te=(_<q?_+7:_)-q;return c(o?T-te:T+(6-te),$);case S:case U:return h(Z+"Hours",0);case L:return h(Z+"Minutes",1);case O:return h(Z+"Seconds",2);case B:return h(Z+"Milliseconds",3);default:return this.clone()}},a.endOf=function(e){return this.startOf(e,!1)},a.$set=function(e,n){var t,o=i.p(e),r="set"+(this.$u?"UTC":""),c=(t={},t[S]=r+"Date",t[U]=r+"Date",t[M]=r+"Month",t[D]=r+"FullYear",t[L]=r+"Hours",t[O]=r+"Minutes",t[B]=r+"Seconds",t[P]=r+"Milliseconds",t)[o],h=o===S?this.$D+(n-this.$W):n;if(o===M||o===D){var _=this.clone().set(U,1);_.$d[c](h),_.init(),this.$d=_.set(U,Math.min(this.$D,_.daysInMonth())).$d}else c&&this.$d[c](h);return this.init(),this},a.set=function(e,n){return this.clone().$set(e,n)},a.get=function(e){return this[i.p(e)]()},a.add=function(e,n){var t,o=this;e=Number(e);var r=i.p(n),c=function($){var T=f(o);return i.w(T.date(T.date()+Math.round($*e)),o)};if(r===M)return this.set(M,this.$M+e);if(r===D)return this.set(D,this.$y+e);if(r===S)return c(1);if(r===W)return c(7);var h=(t={},t[O]=v,t[L]=V,t[B]=w,t)[r]||1,_=this.$d.getTime()+e*h;return i.w(_,this)},a.subtract=function(e,n){return this.add(-1*e,n)},a.format=function(e){var n=this,t=this.$locale();if(!this.isValid())return t.invalidDate||F;var o=e||"YYYY-MM-DDTHH:mm:ssZ",r=i.z(this),c=this.$H,h=this.$m,_=this.$M,$=t.weekdays,T=t.months,Z=t.meridiem,q=function(k,E,ae,ne){return k&&(k[E]||k(n,o))||ae[E].slice(0,ne)},te=function(k){return i.s(c%12||12,k,"0")},G=Z||function(k,E,ae){var ne=k<12?"AM":"PM";return ae?ne.toLowerCase():ne};return o.replace(X,function(k,E){return E||function(ae){switch(ae){case"YY":return String(n.$y).slice(-2);case"YYYY":return i.s(n.$y,4,"0");case"M":return _+1;case"MM":return i.s(_+1,2,"0");case"MMM":return q(t.monthsShort,_,T,3);case"MMMM":return q(T,_);case"D":return n.$D;case"DD":return i.s(n.$D,2,"0");case"d":return String(n.$W);case"dd":return q(t.weekdaysMin,n.$W,$,2);case"ddd":return q(t.weekdaysShort,n.$W,$,3);case"dddd":return $[n.$W];case"H":return String(c);case"HH":return i.s(c,2,"0");case"h":return te(1);case"hh":return te(2);case"a":return G(c,h,!0);case"A":return G(c,h,!1);case"m":return String(h);case"mm":return i.s(h,2,"0");case"s":return String(n.$s);case"ss":return i.s(n.$s,2,"0");case"SSS":return i.s(n.$ms,3,"0");case"Z":return r}return null}(k)||r.replace(":","")})},a.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},a.diff=function(e,n,t){var o,r=this,c=i.p(n),h=f(e),_=(h.utcOffset()-this.utcOffset())*v,$=this-h,T=function(){return i.m(r,h)};switch(c){case D:o=T()/12;break;case M:o=T();break;case z:o=T()/3;break;case W:o=($-_)/6048e5;break;case S:o=($-_)/864e5;break;case L:o=$/V;break;case O:o=$/v;break;case B:o=$/w;break;default:o=$}return t?o:i.a(o)},a.daysInMonth=function(){return this.endOf(M).$D},a.$locale=function(){return l[this.$L]},a.locale=function(e,n){if(!e)return this.$L;var t=this.clone(),o=H(e,n,!0);return o&&(t.$L=o),t},a.clone=function(){return i.w(this.$d,this)},a.toDate=function(){return new Date(this.valueOf())},a.toJSON=function(){return this.isValid()?this.toISOString():null},a.toISOString=function(){return this.$d.toISOString()},a.toString=function(){return this.$d.toUTCString()},s}(),ue=J.prototype;return f.prototype=ue,[["$ms",P],["$s",B],["$m",O],["$H",L],["$W",S],["$M",M],["$y",D],["$D",U]].forEach(function(s){ue[s[1]]=function(a){return this.$g(a,s[0],s[1])}}),f.extend=function(s,a){return s.$i||(s(a,J,f),s.$i=!0),f},f.locale=H,f.isDayjs=j,f.unix=function(s){return f(1e3*s)},f.en=l[u],f.Ls=l,f.p={},f})})(de);var Ue=de.exports;const x=Le(Ue),Pe={tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:[{name:"CPU 使用率"}],left:"right"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:[0,0,0,0,0,0,0,0,0,0]},yAxis:[{type:"value",axisLabel:{show:!0,formatter:"{value} %"}}],series:[{name:"CPU 使用率",type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:[0,0,0,0,0,0,0,0,0,0]}]},Fe={tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["内存使用率"],left:"right"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:[0,0,0,0,0,0,0,0,0,0]},yAxis:[{type:"value",axisLabel:{show:!0,formatter:"{value} %"}}],series:[{name:"内存使用率",type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:[0,0,0,0,0,0,0,0,0,0]}]},He={tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["Read","Write"],left:"right"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:[0,0,0,0,0,0,0,0,0,0]},yAxis:[{type:"value",axisLabel:{show:!0,formatter:function(m){const w=["B","KB","MB","GB","TB"];let v=0;for(;m>=1024&&v<w.length-1;)m/=1024,v++;return m.toFixed(2)+" "+w[v]}}}],series:[{name:"Read",type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:[0,0,0,0,0,0,0,0,0,0]},{name:"Write",type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:[0,0,0,0,0,0,0,0,0,0]}]},We={tooltip:{trigger:"axis",axisPointer:{type:"cross",label:{backgroundColor:"#6a7985"}}},legend:{data:["Receive","Send"],left:"right"},grid:{left:"3%",right:"4%",bottom:"3%",containLabel:!0},xAxis:{type:"category",boundaryGap:!1,data:[0,0,0,0,0,0,0,0,0,0]},yAxis:[{type:"value",axisLabel:{show:!0,formatter:function(m){const w=["B","KB","MB","GB","TB"];let v=0;for(;m>=1024&&v<w.length-1;)m/=1024,v++;return m.toFixed(2)+" "+w[v]}}}],series:[{name:"Receive",type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:[0,0,0,0,0,0,0,0,0,0]},{name:"Send",type:"line",stack:"Total",areaStyle:{},emphasis:{focus:"series"},data:[0,0,0,0,0,0,0,0,0,0]}]};function Q(p){const m=["B","KB","MB","GB","TB"];let w=0;for(;p>=1024&&w<m.length-1;)p/=1024,w++;return`${p.toFixed(2)} ${m[w]}`}const ie=p=>(Te("data-v-9eddfbf2"),p=p(),Ie(),p),Ye={class:"am-host-container"},je={class:"am-host-container__operator"},Ee=ie(()=>R("div",{class:"am-host-container__image-title"},"CPU 总使用率",-1)),Re={class:"am-host-container__image-description"},Ne=ie(()=>R("div",{class:"am-host-container__image-title"},"内存使用率",-1)),qe={class:"am-host-container__image-description"},Ge=ie(()=>R("div",{class:"am-host-container__image-title"},"磁盘使用率",-1)),Ve=ie(()=>R("div",{class:"am-host-container__image-title"},"流量曲线图",-1)),ze={class:"am-host-container__image-description"},Je=Se({__name:"index",setup(p){const m=K(600),w=[{value:600,label:"10分钟"},{value:1800,label:"30分钟"},{value:3600,label:"1 小时"},{value:43200,label:"12小时"},{value:86400,label:"24小时"}],v=K("0.0%"),V=async()=>{const{data:d}=await fe();v.value=d.percent.toFixed(2)+"%"},P=se(Pe),B=async()=>{const d={start_time:x().unix()-m.value,end_time:x().unix()};console.log(d);const{data:y}=await he(d),u=y.data;console.log("cpu response:",u),I(P,"xAxis.data",u.map(l=>x(l.timestamp*1e3).hour()+":"+x(l.timestamp*1e3).minute())),I(P,"legend.data",["CPU使用率"]),I(P,"series",[{name:"CPU使用率",data:u.map(l=>l.value),type:"line",smooth:!0,showSymbol:!1}]),console.log("cpu: ",P)},O=K({percent:"0%",total:"0",used:"0"}),L=async()=>{const{data:d}=await me();O.value.percent=d.percent.toFixed(2)+"%",O.value.total=Q(d.total),O.value.used=Q(d.used)},S=se(Fe),W=async()=>{const d={start_time:x().unix()-m.value,end_time:x().unix()};console.log(d);const{data:y}=await pe(d),u=y.data;console.log("mem response: ",u),I(S,"xAxis.data",u.map(l=>x(l.timestamp*1e3).hour()+":"+x(l.timestamp*1e3).minute())),I(S,"legend.data",["内存使用率"]),I(S,"series",[{name:"内存使用率",data:u.map(l=>l.value),type:"line",smooth:!0,showSymbol:!1}]),console.log("mem: ",S)},M=K([]),z=async()=>{const{data:d}=await _e();console.log(d.info),M.value=[],d.info.map(y=>{M.value.push({device:y.device,total:Q(y.total),used:Q(y.used),percent:y.percent.toFixed(2)+"%"})})},D=se(He),U=async()=>{const d={start_time:x().unix()-m.value,end_time:x().unix()};console.log(d);const{data:y}=await ye(d),u=y;console.log("********<<<<>>>>>>*****",u,u.data,u.device),console.log("disk response: ",u.device,u.data),I(D,"xAxis.data",u.data.map(l=>x(l.timestamp*1e3).hour()+":"+x(l.timestamp*1e3).minute())),I(D,"legend.data",["Read","Write"]),I(D,"series",[{name:"Read",data:u.data.map(l=>l.io_read),type:"line",smooth:!0,showSymbol:!1},{name:"Write",data:u.data.map(l=>l.io_write),type:"line",smooth:!0,showSymbol:!1}]),console.log("disk options: ",D)},F=K({ethernet:"",read:"",write:""}),N=se(We),X=async()=>{const d={start_time:x().unix()-m.value,end_time:x().unix()};console.log(d);const{data:y}=await ge(d),u=y;F.value.ethernet=u.ethernet,F.value.read=Q(u.data[u.data.length-1].bytes_recv),F.value.write=Q(u.data[u.data.length-1].bytes_sent),console.log("net response: ",u.ethernet,u.data),I(N,"xAxis.data",u.data.map(l=>x(l.timestamp*1e3).hour()+":"+x(l.timestamp*1e3).minute())),I(N,"legend.data",["Receive","Send"]),I(N,"series",[{name:"Receive",data:u.data.map(l=>l.bytes_recv),type:"line",smooth:!0,showSymbol:!1},{name:"Send",data:u.data.map(l=>l.bytes_sent),type:"line",smooth:!0,showSymbol:!1}]),console.log("net options: ",N)},ee=K();return De(()=>{console.log("mounted"),V(),B(),L(),W(),z(),U(),X(),ee.value=setInterval(()=>{console.log("start interval"),V(),B(),L(),W(),z(),U(),X()},5e3),console.log("timer: ",ee.value)}),ke(()=>{console.log("unmounted"),clearInterval(ee.value)}),Oe(()=>m.value,()=>{V(),B(),L(),W(),z(),U(),X()}),(d,y)=>{const u=Me,l=we,Y=xe,j=$e,H=be,f=ve;return re(),oe("div",Ye,[R("div",je,[g(Y,null,{default:b(()=>[g(l,{modelValue:C(m),"onUpdate:modelValue":y[0]||(y[0]=i=>Ce(m)?m.value=i:null),placeholder:"Select",size:"default",style:{width:"240px"}},{default:b(()=>[(re(),oe(le,null,ce(w,i=>g(u,{key:i.value,label:i.label,value:i.value},null,8,["label","value"])),64))]),_:1},8,["modelValue"])]),_:1})]),g(f,{gutter:4},{default:b(()=>[g(H,{span:12},{default:b(()=>[g(Y,null,{default:b(()=>[g(j,{option:C(P)},{default:b(()=>[Ee,R("div",Re,"百分比： "+A(C(v)),1)]),_:1},8,["option"])]),_:1})]),_:1}),g(H,{span:12},{default:b(()=>[g(Y,null,{default:b(()=>[g(j,{option:C(S)},{default:b(()=>[Ne,R("div",qe," 总量："+A(C(O).total)+" 使用："+A(C(O).used)+" 百分比： "+A(C(O).percent),1)]),_:1},8,["option"])]),_:1})]),_:1})]),_:1}),g(f,{gutter:4},{default:b(()=>[g(H,{span:12},{default:b(()=>[g(Y,null,{default:b(()=>[g(j,{option:C(D)},{default:b(()=>[Ge,(re(!0),oe(le,null,ce(C(M),(i,J)=>(re(),oe("div",{key:J,class:"am-host-container__image-description"},A(i.device)+" 总量："+A(i.total)+" 使用："+A(i.used)+" 百分比： "+A(i.percent),1))),128))]),_:1},8,["option"])]),_:1})]),_:1}),g(H,{span:12},{default:b(()=>[g(Y,null,{default:b(()=>[g(j,{option:C(N)},{default:b(()=>[Ve,R("div",ze,A(C(F).ethernet)+" 接收："+A(C(F).read)+" 发送："+A(C(F).write),1)]),_:1},8,["option"])]),_:1})]),_:1})]),_:1})])}}}),st=Ae(Je,[["__scopeId","data-v-9eddfbf2"]]);export{st as default};
